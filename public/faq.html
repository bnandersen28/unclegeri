<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">   
    <title>Frequently asked questions</title>
</head>
<body>
    <div class = "header">
        <div class = "header-content">
            <div class = "header-text">
                <h1>Uncle Geri's Driving Academy</h1>
                <p>  804-251-0102</p>
            </div>
            <div class ="header-logo">
                <img src = "imgs/logo.png" alt="Logo">
            </div>
        </div>
        <nav class="navbar">
            <a href="courses.html"><button>Courses</button></a>
            <a href="register.html"><button>Register</button></a>
            <a href="faq.html"><button>FAQs</button></a>
            <a href="connect.html"><button>Connect</button></a>
        </nav>    
    
        </div>  
    
    </div>

    <div class="faq-container">
        <h2>Frequently Asked Questions</h2>
        <div id="faq-list"></div>
    </div>
    <script>
        async function fetchFAQs(){
            const backend = 'https://unclegeri-backend.onrender.com';
            try {
                const res = await fetch(`${backend}/api/faqs`);
                if (!res.ok) {
                    throw new Error('Network response was not ok');
                }
                const faqs = await res.json();
                const faqList = document.getElementById('faq-list');
                faqList.innerHTML = '';
                
                faqs.forEach(faq => {
                    const faqItem = document.createElement('div');
                    faqItem.className = 'faq-item';
                    
                    
                    const questionBtn= document.createElement('button');
                    questionBtn.className = 'faq-question';
                    questionBtn.textContent = faq.question;

                    const answerDiv = document.createElement('div');
                    answerDiv.className = 'faq-answer';
                    answerDiv.style.display = 'none'; // Initially hidden

                    const answerText = document.createElement('p');
                    answerText.textContent = faq.answer;

                    answerDiv.appendChild(answerText);
                    faqItem.appendChild(questionBtn);
                    faqItem.appendChild(answerDiv);
                    faqList.appendChild(faqItem);

                    //Toggle answer display on click
                    questionBtn.addEventListener('click', () => {
                       answerDiv.style.display = answerDiv.style.display === 'block' ? 'none' : 'block';
                    });
                });
            } catch (error) {
                console.error('Error fetching FAQs:', error);
                document.getElementById('faq-list').innerHTML = '<p>Error loading FAQs. Please try again later.</p>';
            }
        }
        document.addEventListener('DOMContentLoaded', fetchFAQs);
    </script>
        
</body>
<footer class="footer">
    <div class="footer-section">
        <h3>Learn More</h3>
        <a href="courses.html">Courses</a>
        <a href="faq.html">FAQs</a>
    </div>
    <div class="footer-section">
        <button onclick ="window.location.href='register.html'">Register Now!</button>
    </div>
    <div class="footer-section">
        <a href="connect.html" class="footer-icon">
            <img src="imgs/message.png" alt="Connect">
        </a>
    </div>
    <div class="footer-section">
        <a href="index.html" class="footer-icon">
            <img src="imgs/home.png" alt="Home">
        </a>
    </div>
    </div>
</footer>
<script>
    //Add javascript to show answer when faq question is clicked on
    document.addEventListener('DOMContentLoaded', function() {
        const faqQuestions = document.querySelectorAll('.faq-question');
        faqQuestions.forEach(question => {
            question.addEventListener('click', function() {
                const answer = this.nextElementSibling;
                answer.style.display = answer.style.display === 'block' ? 'none' : 'block';
            });
        });
    });
</script>
</html>














    